<!DOCTYPE html>
<html lang="en" ng-app="CompanyProfile">
  <head>
    <!--Import Google Icon Font-->
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <!--Import materialize.css-->
    <link
      type="text/css"
      rel="stylesheet"
      href="/assets/css/materialize.min.css"
      media="screen,projection"
    />

    <!-- my CSS -->
    <link rel="stylesheet" href="/css/style.css" />

    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Portfolio</title>
  </head>

  <body ng-controller="Portfoliocontroller">
    <!-- navbar -->
    <div class="navbar-fixed">
      <nav class="nav-wrapper purple darken-1">
        <div class="nav-wrapper">
          <a href="#" class="brand-logo">Selamat Datang Admin | <b>WMA</b></a>
          <ul class="right hide-on-med-and-down">
            <li>
              <div class="nav-wrapper">
                <form>
                  <div class="input-field">
                    <input id="search" type="search" required />
                    <label class="label-icon" for="search"
                      ><i class="material-icons">search</i></label
                    >
                    <i class="material-icons">close</i>
                  </div>
                </form>
              </div>
            </li>
            <li>
              <a href="#"
                ><i
                  class="material-icons"
                  data-toggle="tooltip"
                  title="Notifikasi"
                  >notifications</i
                ></a
              >
            </li>
            <li>
              <a href="#"
                ><i
                  class="material-icons"
                  data-toggle="tooltip"
                  title="Surat Masuk"
                  >message</i
                ></a
              >
            </li>
            <li>
              <a href="/"
                ><i
                  class="material-icons"
                  data-toggle="tooltip"
                  title="Sign Out"
                  >logout</i
                ></a
              >
            </li>
          </ul>
        </div>
      </nav>
    </div>

    <!-- sidebar -->
    <div class="row no-gutters">
      <div class="col m2 s12 grey darken-2">
        <nav>
          <div class="nav flex-column">
            <ul class="hide-on-med-and-down">
              <li class="nav-item">
                <a class="nav-link white-text" href="/admin">Dashboard</a>
              </li>
              <li class="nav-item">
                <a href="/about" class="white-text nav-link"
                  >Setting About us</a
                >
                <hr class="grey lighten" />
              </li>
              <li class="nav-item">
                <a href="/servis" class="white-text nav-link">Daftar Service</a>
                <hr class="grey lighten" />
              </li>
              <li class="nav-item">
                <a href="/portfolio" class="white-text nav-link"
                  >Data Portfolio</a
                >
                <hr class="grey lighten" />
              </li>
              <li class="nav-item">
                <a href="/tim" class="white-text nav-link">Data Team</a>
                <hr class="grey lighten" />
              </li>
            </ul>
          </div>
        </nav>
      </div>

      <!-- content -->
      <div class="col m10 s12">
        <h3 class="dash">
          <i class="medium material-icons left">photo_library</i>Data Portfolio
        </h3>
        <section>
          <a
            class="waves-effect waves-light btn modal-trigger purple lighten-1"
            href="#modal1"
          >
            <i class="material-icons left">add</i>
            Tambah Data Portfolio
          </a>
          <table class="striped card">
            <thead>
              <tr>
                <th scope="col" class="center">No</th>
                <th scope="col" class="center">image</th>
                <th colspan="2" scope="col" class="center"></th>
              </tr>
            </thead>

            <tbody ng-repeat="portfolio in portofolios">
              <tr>
                <td class="center">{{$index + 1}}</td>
                <td class="center">
                  <img src="{{'/img/port/'+portfolio.gambar}}" width="50%" />
                </td>
                <td class="center">
                  <a
                    href="{{'/edit_port/'+portfolio._id}}"
                    class="orange btn btn-flat"
                  >
                    <i
                      class="material-icons white-text"
                      data-toggle="tooltip"
                      title="edit"
                      >edit</i
                    >
                  </a>
                </td>
                <td class="center">
                  <button
                    class="red btn-flat"
                    ng-click="delport(portfolio._id)"
                  >
                    <i
                      class="material-icons white-text"
                      data-toggle="tooltip"
                      title="hapus"
                      >delete</i
                    >
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
        </section>
      </div>
    </div>

    <div id="modal1" class="modal">
      <form action="/portofolio" method="POST" enctype="multipart/form-data">
        <div class="modal-content">
          <h5>Input Data Portfolio</h5>
          <div class="input-field col s12">
            <i class="material-icons prefix left"
              >account_circle
              <input
                id="in-gambar"
                type="file"
                required
                name="gambar"
                accept=".jpg,.jpeg,.png"
              />
            </i>
            <label for="gambar"></label>
          </div>
        </div>
        <div class="modal-footer">
          <button
            class="waves-effect waves-green btn purple lighten-1"
            type="submit"
          >
            Submit <i class="material-icons right">send</i>
          </button>
        </div>
      </form>
    </div>

    <script type="text/javascript" src="/assets/js/materialize.min.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        var elems = document.querySelectorAll(".modal");
        var instances = M.Modal.init(elems);
      });
    </script>
    <script src="/assets/angular.min.js"></script>
    <script src="/app/controller/portfolio.js"></script>
  </body>
</html>
